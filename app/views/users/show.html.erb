<h1><%= @user.first_name %>'s Profile</h1>

<br>
<br>

<% if @user.image.present? %>
<div class="circle-img">
  <%= image_tag @user.image, :alt => @user.first_name %>
</div>
<% end %>

<br>
<br>
<br>

<div>
  <%= link_to 'Edit Profile', edit_user_path(@user), :class => "btn btn-primary" %>
  <% if @current_user.admin? %>
  <%= link_to 'Delete Profile', user_path(@user), :method => 'delete', :data => { :confirm => 'Are you sure?' }, :class => "btn btn-primary" %>
  <% end %>
</div>

<br>
<br>


  <h3>Name: <%= @user.first_name %> <%= @user.last_name%></h3>
  <% if @user.bio.present? %>
  <h4>Bio: <%= @user.bio %></h4>
  <% end %>
  <h4>Where I Live: <%= @user.country %></h4>

<% if @user.country.present? %>
  <div id="map"></div> <!--need predefined height to display content, otherwise it won't expand-->

<% end %>

  <script>
      var myLatLng = {lat: <%= @latitude %>, lng: <%= @longitude %>};

      function initMap() {
        var map = new google.maps.Map(document.getElementById('map'), {
          center: myLatLng,
          zoom: 15
        });

        var marker = new google.maps.Marker({
          position: myLatLng,
          map: map,
        })
      }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCRXwg_OQijgCBgFl1XoVh63khQf0Ojz7A&callback=initMap"
    async defer></script>

<br>

  <button id="get-quote">Get your Swanson on</button>

  <br>
  <br>

  <p id="quote">Getting quote...</p>
